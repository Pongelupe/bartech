<div class="container-fluid">
  <div class="row">
    <div class="col-md-7">
      <div class="form-group">
        <label for="searchProducts">Pesquisar produtos</label>
        <input type="text" class="form-control" id="searchProducts" aria-describedby="searchProductsHelp" [(ngModel)]="termoPesquisaProduto">
        <small id="searchProductsHelp" class="form-text text-muted">Digite o nome ou c√≥digo do produto</small>
      </div>
      <h4>Produtos cadastrados</h4>
      <div class="row">
        <div class="col-4 mb-3" *ngFor="let produto of produtos$ | async | produto : [termoPesquisaProduto]">
          <app-bt-card [title]="produto.nome" [subtitle]="produto.preco" (click)="openModalItem(produto)"></app-bt-card>
        </div>
      </div>
    </div>
    <div class="col-md-5 mb-3">
      <app-itens-venda [itens]="venda.itensVenda"></app-itens-venda>
      <hr class="m-0" />
      <div class="col-12">
        <div class="row bg-success text-white font-weight-bold totais">
          <span class="col-6">Total </span>
          <span class="col-6 text-right">{{totalVenda | currency : 'BRL'}}</span>
        </div>
      </div>
    </div>
  </div>
  <!--<button type="button" class="btn btn-primary mt-2" [routerLink]="['pagar']">Pagar</button>
  <button type="button" class="btn btn-danger mt-1" [routerLink]="['pendura',venda.id]">Pendura</button>-->
</div>

<ngx-smart-modal #addModal identifier="addModal" customClass="medium-modal">
  <h3 class="text-center">{{produto.nome}}</h3>
  <p>{{produto.nome}} possui {{produto.quantidadeEstoque}} itens tem estoque</p>
  <div class="form-group mt-1">
    <label>Quantidade</label>
    <input type="number" class="form-control" [(ngModel)]="quantidade">
  </div>

  <button type="button" class="btn btn-primary mt-2" (click)="addItemVenda()">Adicionar</button>
  <button type="button" (click)="addModal.close()" class="btn btn-danger mr-2 mt-2">Cancelar</button>
</ngx-smart-modal>
